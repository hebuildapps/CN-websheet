<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CN MCQ Mastery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen p-4 md:p-8">

    <div id="app" class="max-w-4xl mx-auto"></div>

    <script>
        const lessons = [
            {
                id: 0,
                title: "The OSI Model (The 7 Layers)",
                icon: "layers",
                summary: "Examiners OBSESS over the OSI model. Memorize the mnemonic: Please Do Not Throw Sausage Pizza Away (Physical, Data Link, Network, Transport, Session, Presentation, Application).",
                tricks: [
                    "Layer 1 (Physical): Bits, Hubs, Cables.",
                    "Layer 2 (Data Link): Frames, MAC Addresses, Switches.",
                    "Layer 3 (Network): Packets, IP Addresses, Routers.",
                    "Layer 4 (Transport): Segments, TCP/UDP."
                ],
                bgColor: "bg-blue-500",
                borderColor: "border-blue-500",
                textColor: "text-blue-600"
            },
            {
                id: 1,
                title: "TCP vs. UDP",
                icon: "zap",
                summary: "The Transport layer is all about how data is sent. TCP is the careful delivery driver. UDP is the reckless paperboy.",
                tricks: [
                    "TCP: Reliable, Connection-oriented, 3-way handshake (Use for: File downloads, Web).",
                    "UDP: Unreliable, Fast, Connectionless (Use for: Video streaming, Gaming, DNS).",
                    "TRAP: 'Unreliable' doesn't mean bad, it just means it doesn't double-check if the data arrived."
                ],
                bgColor: "bg-amber-500",
                borderColor: "border-amber-500",
                textColor: "text-amber-600"
            },
            {
                id: 2,
                title: "IP Classes & Topology",
                icon: "globe",
                summary: "You will be asked to identify IP classes and network shapes (topologies).",
                tricks: [
                    "Class A: Starts 1-126. Class B: 128-191. Class C: 192-223.",
                    "Mesh Topology: Most reliable, but most expensive.",
                    "Star Topology: Central Hub/Switch. If hub dies, network dies.",
                    "Bus Topology: Cheapest, uses a single backbone cable."
                ],
                bgColor: "bg-emerald-500",
                borderColor: "border-emerald-500",
                textColor: "text-emerald-600"
            },
            {
                id: 3,
                title: "Ports, Protocols & Security",
                icon: "shield-check",
                summary: "Easy points if you memorize these associations.",
                tricks: [
                    "HTTP = Port 80. HTTPS = Port 443.",
                    "DNS = Port 53 (Uses UDP mostly). SMTP = Port 25 (Sends emails).",
                    "CSMA/CD = Wired Ethernet. CSMA/CA = Wireless (WiFi).",
                    "Symmetric Encryption = Fast, 1 Key. Asymmetric = Slow, 2 Keys (Public/Private)."
                ],
                bgColor: "bg-purple-500",
                borderColor: "border-purple-500",
                textColor: "text-purple-600"
            }
        ];

        const quizData = [
            {
                question: "At which layer of the OSI model does a Router operate?",
                options: ["Physical Layer (Layer 1)", "Data Link Layer (Layer 2)", "Network Layer (Layer 3)", "Transport Layer (Layer 4)"],
                answer: 2,
                explanation: "TRAP AVOIDED: Hub = L1, Switch = L2, Router = L3. Routers use IP Addresses (Network Layer) to find paths."
            },
            {
                question: "Which protocol is best suited for live video streaming?",
                options: ["TCP", "UDP", "HTTP", "FTP"],
                answer: 1,
                explanation: "Live video needs SPEED. UDP is fast because it doesn't waste time checking if every single packet arrived (which causes buffering). TCP is for reliable file transfers."
            },
            {
                question: "Which of the following IP addresses belongs to Class C?",
                options: ["10.0.0.1", "172.16.0.1", "192.168.1.1", "127.0.0.1"],
                answer: 2,
                explanation: "Class A (1-126), Class B (128-191), Class C (192-223). 192 falls perfectly into Class C. (Note: 127 is reserved for loopback)."
            },
            {
                question: "Which network topology is the most reliable but also the most expensive to implement?",
                options: ["Star Topology", "Bus Topology", "Ring Topology", "Mesh Topology"],
                answer: 3,
                explanation: "In a Mesh topology, every device is connected to every other device. Highly reliable (no single point of failure), but requires massive amounts of cabling (expensive)."
            },
            {
                question: "Which access control method is used in Wireless (WiFi) networks to prevent collisions?",
                options: ["CSMA/CD", "CSMA/CA", "Token Passing", "Sliding Window"],
                answer: 1,
                explanation: "TRAP: CD (Collision Detection) is for wired Ethernet. CA (Collision Avoidance) is for Wireless because detecting collisions in the air is too difficult."
            },
            {
                question: "What is the PDU (Protocol Data Unit) at the Data Link Layer?",
                options: ["Bits", "Frames", "Packets", "Segments"],
                answer: 1,
                explanation: "Memorize this stack: L1=Bits, L2=Frames, L3=Packets, L4=Segments."
            }
        ];

        let state = {
            activeTab: 'lessons', // 'lessons', 'quiz', 'results'
            currentLesson: 0,
            score: 0,
            currentQuestion: 0,
            selectedOption: null
        };

        window.setTab = (tab) => {
            state.activeTab = tab;
            if (tab === 'quiz') {
                state.score = 0;
                state.currentQuestion = 0;
                state.selectedOption = null;
            }
            render();
        };

        window.setLesson = (id) => {
            state.currentLesson = id;
            render();
        };

        window.selectOption = (idx) => {
            if (state.selectedOption !== null) return;
            state.selectedOption = idx;
            if (idx === quizData[state.currentQuestion].answer) {
                state.score++;
            }
            render();
        };

        window.nextQuestion = () => {
            if (state.currentQuestion < quizData.length - 1) {
                state.currentQuestion++;
                state.selectedOption = null;
            } else {
                state.activeTab = 'results';
            }
            render();
        };

        function render() {
            const app = document.getElementById('app');
            
            let html = `
                <!-- Header -->
                <header class="mb-8 text-center">
                    <h1 class="text-3xl font-bold text-slate-800 mb-2 flex items-center justify-center gap-2">
                        <i data-lucide="wifi" class="text-blue-600 w-8 h-8"></i> CN MCQ Mastery
                    </h1>
                    <p class="text-slate-600 italic">Hack the Exam: Recognize the patterns, skip the jargon.</p>
                </header>

                <!-- Navigation -->
                <nav class="flex bg-white rounded-xl shadow-sm p-1 mb-8 gap-1 border border-slate-200">
                    <button onclick="setTab('lessons')" class="flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all ${state.activeTab === 'lessons' ? 'bg-blue-600 text-white shadow-md' : 'text-slate-600 hover:bg-slate-100'}">
                        <i data-lucide="book-open" class="w-5 h-5"></i> <span class="hidden sm:inline font-medium">Cheat Sheets</span>
                    </button>
                    <button onclick="setTab('quiz')" class="flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all ${state.activeTab === 'quiz' ? 'bg-blue-600 text-white shadow-md' : 'text-slate-600 hover:bg-slate-100'}">
                        <i data-lucide="target" class="w-5 h-5"></i> <span class="hidden sm:inline font-medium">Mock Exam Drill</span>
                    </button>
                </nav>

                <main class="min-h-[450px]">
            `;

            if (state.activeTab === 'lessons') {
                html += `
                    <div class="space-y-6 fade-in">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${lessons.map(lesson => `
                                <div onclick="setLesson(${lesson.id})" class="p-5 rounded-2xl border-2 transition-all cursor-pointer ${state.currentLesson === lesson.id ? `${lesson.borderColor} bg-white shadow-lg scale-[1.02]` : 'border-transparent bg-white hover:border-slate-200 shadow-sm'}">
                                    <div class="w-12 h-12 rounded-xl mb-4 flex items-center justify-center text-white ${lesson.bgColor} shadow-lg">
                                        <i data-lucide="${lesson.icon}"></i>
                                    </div>
                                    <h3 class="font-bold text-lg mb-2">${lesson.title}</h3>
                                    <p class="text-slate-600 text-sm line-clamp-2">${lesson.summary}</p>
                                </div>
                            `).join('')}
                        </div>

                        <!-- Detailed Card -->
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 mt-6 fade-in">
                            <h2 class="text-xl font-bold mb-4 flex items-center gap-2 border-b pb-4">
                                <i data-lucide="play-circle" class="text-blue-600"></i> Pattern Recognition: ${lessons[state.currentLesson].title}
                            </h2>
                            <p class="text-slate-700 leading-relaxed mb-6">
                                ${lessons[state.currentLesson].summary}
                            </p>
                            <div class="bg-slate-50 p-4 rounded-xl">
                                <h4 class="font-bold text-sm text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2">
                                    <i data-lucide="alert-circle" class="w-4 h-4"></i> Exam Traps & Rules
                                </h4>
                                <ul class="space-y-3">
                                    ${lessons[state.currentLesson].tricks.map(trick => `
                                        <li class="flex items-start gap-3 text-slate-700">
                                            <i data-lucide="check-circle" class="text-emerald-500 mt-1 shrink-0 w-5 h-5"></i>
                                            <span>${trick}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
            } else if (state.activeTab === 'quiz') {
                const q = quizData[state.currentQuestion];
                html += `
                    <div class="bg-white p-8 rounded-3xl shadow-xl border border-slate-100 max-w-2xl mx-auto fade-in">
                        <div class="flex justify-between items-center mb-8">
                            <span class="text-sm font-bold text-slate-400">QUESTION ${state.currentQuestion + 1}/${quizData.length}</span>
                            <span class="text-sm px-3 py-1 bg-blue-50 text-blue-700 rounded-full font-bold">Score: ${state.score}</span>
                        </div>

                        <h2 class="text-xl font-bold mb-8 text-slate-800 leading-tight">
                            ${q.question}
                        </h2>

                        <div class="space-y-3">
                            ${q.options.map((opt, idx) => {
                                let btnClass = "border-slate-100 hover:border-blue-500 hover:bg-blue-50";
                                let iconHTML = "";
                                if (state.selectedOption !== null) {
                                    if (idx === q.answer) {
                                        btnClass = "border-emerald-500 bg-emerald-50 text-emerald-900";
                                        iconHTML = `<i data-lucide="check-circle" class="text-emerald-600"></i>`;
                                    } else if (state.selectedOption === idx) {
                                        btnClass = "border-rose-500 bg-rose-50 text-rose-900";
                                        iconHTML = `<i data-lucide="alert-circle" class="text-rose-600"></i>`;
                                    } else {
                                        btnClass = "border-slate-100 opacity-50";
                                    }
                                }
                                return `
                                    <button ${state.selectedOption !== null ? 'disabled' : ''} onclick="selectOption(${idx})" class="w-full text-left p-4 rounded-xl border-2 transition-all flex items-center justify-between group cursor-pointer ${btnClass}">
                                        <span class="font-medium">${opt}</span>
                                        ${iconHTML}
                                    </button>
                                `;
                            }).join('')}
                        </div>

                        ${state.selectedOption !== null ? `
                            <div class="mt-8 p-5 bg-slate-900 text-white rounded-2xl fade-in">
                                <p class="text-sm leading-relaxed mb-4">
                                    <span class="text-blue-400 font-bold">EXPERT LOGIC:</span> ${q.explanation}
                                </p>
                                <button onclick="nextQuestion()" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-colors flex items-center justify-center gap-2">
                                    Next Question <i data-lucide="chevron-right"></i>
                                </button>
                            </div>
                        ` : ''}
                    </div>
                `;
            } else if (state.activeTab === 'results') {
                const percentage = Math.round((state.score / quizData.length) * 100);
                html += `
                    <div class="text-center bg-white p-12 rounded-3xl shadow-xl border border-slate-100 max-w-lg mx-auto fade-in">
                        <div class="mb-6 inline-flex p-6 bg-blue-100 rounded-full text-blue-600">
                            <i data-lucide="target" class="w-12 h-12"></i>
                        </div>
                        <h2 class="text-3xl font-black mb-2">Drill Complete!</h2>
                        <p class="text-slate-500 mb-8">You successfully identified ${state.score} out of ${quizData.length} traps.</p>
                        
                        <div class="text-6xl font-black text-blue-600 mb-10">
                            ${percentage}%
                        </div>

                        <div class="space-y-3">
                            <button onclick="setTab('quiz')" class="w-full bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-blue-500 transition-all flex items-center justify-center gap-2">
                                <i data-lucide="refresh-cw" class="w-5 h-5"></i> Retake Drill
                            </button>
                            <button onclick="setTab('lessons')" class="w-full bg-slate-100 text-slate-700 font-bold py-4 rounded-xl hover:bg-slate-200 transition-all">
                                Review Cheat Sheets
                            </button>
                        </div>
                    </div>
                `;
            }

            html += `
                </main>
                <footer class="mt-12 text-center text-slate-400 text-sm">
                    ðŸ’¡ Pro Tip: Whenever you see "reliable", think TCP. Whenever you see "fast/streaming", think UDP!
                </footer>
            `;

            app.innerHTML = html;
            lucide.createIcons(); // Initialize the SVG icons after rendering
        }

        // Initial render
        render();
    </script>
</body>
</html>
